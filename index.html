<?php

ini_set('display_errors',1);

require_once('./classes/Database.php');

$produits = (array) Database::query("SELECT * FROM produits", []);

?>

<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="./assets/css/style.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.1.1/css/all.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/gsap/2.0.2/TweenMax.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/ScrollMagic.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/ScrollMagic/2.0.6/plugins/animation.gsap.js"></script>

</head>
<body>

    <header style="height:80px;display:block;margin-bottom: 13vmin;">
      <div style="padding:1vmin 2.5vmin;border-bottom:2px solid black;display:flex;justify-content:space-between;padding:1vmin 4vmin;align-items:center;position: fixed;z-index: 3;height: 80px;width: 100%;background-color: white;">
        <div>
            <form action="./recherche.php" method="POST" style="align-items:center;display:flex">
                <input type="text" name="recherche" class="barreDeRecherche">
                <button class="btnRecherche" type="submit"><i class="fa-solid fa-magnifying-glass"></i></button>
            </form>
        </div>
        <h1 class="logo">Riva Delavega</h1>

       
        <div style="position:relative;display:flex;align-items:center">
          <a class="lienHeader">TENDANCES</a>
          <a class="lienHeader">SOLDES</a>
          <a class="lienHeader">CONTACT</a>
          <a class="lienHeader" href="./panier.php"><i class="fa-solid fa-cart-shopping" style="font-size: 2.4vmin;"></i></a>
          <div id="nombreProduits"></div>
        </div>
      </div>
    </header>

    <main>
        <section id="sectionMouv" style="height: 55vh;background-color: white;position: relative;z-index: 1;">
          <div id="test"  style="display: flex;flex-direction: column;align-items: center;">
            <h2 class="titrePrincipale" >VETEMENTS HAUT <br> DE GAMME A PARIS</h2>
            <span class="sousTitre">RIVA DELAVEGA - LA BOUTIQUE  <br> DE LUXE A PARIS</span>
            <div id="blockGenre" style="display:flex;justify-content:center;margin-bottom: 7vmin;align-items: center;">

              <div id="btnHomme" data-value="3" style="position:relative">
                <a href="./genre.php?genre=3" class="genre" style="margin-right:4vmin;font-weight: bold;font-size: 3.2vmin;">HOMME</a>

                <div id="blockH" style="display:none">
                    <span class="propriete">Categorie</span>
                    <div id="blockCategorieH"></div>
                    <span class="propriete">Marque</span>
                    <div id="blockMarqueH"></div>
                </div>
              </div>
              <span style="font-size: 4vmin;">|</span>
              <div id="btnFemme" data-value="4"  style="position:relative">
                <a href="./genre.php?genre=4" value="4" class="genre" style="margin-left:4vmin;font-weight: bold;font-size: 3.2vmin;">FEMME</a>
                <div id="blockF" style="display:none">
                    <span class="propriete">Categorie</span>
                    <div id="blockCategorieF"></div>
                    <span class="propriete">Marque</span>
                    <div id="blockMarqueF"></div>
                </div>
              </div>

            </div>
          </div>
        </section>
        <section id="sectionImg" style="z-index: 2;position:relative;height:100vh;width:100%">
       
            <div id="bg-img" style="background-image:url('./assets/img/effet.jpg');z-index: 2;width:100%;position: relative;height:100vh;background-size: cover;background-position: 100% 100%;"></div>

           <!--<img src="./assets/img/pexels-godisable-jacob-963696.jpg" id="imgMain" style="width:100%;z-index: 2;position: relative;">-->
  
        </section>
 
        <!--<section id="sectionNul" style="height:2000px;width: 100%;background-color: aqua;position: relative;z-index: 2;">
          <div id="disparait" style="background-color: rgb(0, 255, 76);position:absolute;top:0;z-index:3;height:500px;width: 100%;"></div>
         <h2 style="position: sticky;top:50%;text-align: center;">ENORME TITRE POUR <br> FAIRE DES TESTS</h2>
        </section>-->
       
        <section id="sectionPrestige">
        <div style="position: fixed;top:28%;left:39.5%;z-index:0;text-align:center">
          <h1 class="titrePrestige">DECOUVREZ <br> LE PRESTIGE <br> FRANCAIS</h1>
          <p style="margin:5.5vmin 0;font-family:'Messa';font-size:1vw">Depuis 1976, Riva Delavega conçoit <br> et crée des vetements uniques avec passion dans <br> le coeur de Paris.</p>
          <a style="font-size:1vw;font-weight:bold;font-family:'Messa';border-bottom: 2px solid black;padding-bottom:0.5vw">Explorez Les Tendances</a>
        </div>
          <div id="prestige" style="display:grid;grid-template-columns: repeat(2, 1fr);grid-gap: 6vw 25vw ;width:100%;justify-items:center;margin-bottom:14vmin">
            <?php foreach($produits as $produit): ?>
                <!--<div class="blockProduit" style="display:flex;flex-direction:column;justify-content:center;">
                    <img src="" alt="">
                    <div>
                        <span><?= $produit['nom']; ?></span>
                        <p><?= $produit['description'] ?></p>
                        <span><?= $produit['prix']."&euro;" ?></span><br>
                        <button class="btnPanier" value=<?= $produit['id'] ?>>Ajouter au panier</button>
                        <a href="./produit.php?produit=<?= $produit['id']?>">Voir produit</a>
                    </div>
                </div>-->
            <?php endforeach; ?>

             
                 <img style="width:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-furkanfdemir-6206971.jpg"> 
             
            
          
                 <img style="width:40vmin;height:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-name-name-4992594.jpg"> 
              
         
                 <img style="width:40vmin;height:55vmin;margin-top:-8vw;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-furkanfdemir-6207063.jpg"> 
           
          
                 <img style="width:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-godisable-jacob-953266.jpg"> 
            
                 <img style="width:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-andrea-piacquadio-3755706.jpg"> 
           
                 <img style="width:40vmin;height:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-henry-&-co-1233648(1).jpg"> 
             
                 <img style="width:40vmin;height:55vmin;margin-top:-8vw;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-cottonbro-9208221.jpg"> 
             
                 <img style="width:55vmin;border:2px solid black;padding:1.5vw" src="./assets/img/pexels-tim-douglas-6567239.jpg"> 
            
            </div>
        </section>
    </main>

    <footer>

    </footer>


    <script src=" https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/gsap.min.js "></script>
    <script src=" https://cdnjs.cloudflare.com/ajax/libs/gsap/3.6.1/ScrollTrigger.min.js "></script>
    <script>

        const tl = gsap.timeline({
  scrollTrigger: {
    trigger: "#sectionMouv",
    start: "-200",
    end: "bottom",
    scrub: true,
    markers: false
  }
});
tl.to("#test", {yPercent: -32, duration: 3,ease:"Linear.easeNone"})
tl.to( "#bg-img",{ backgroundPosition: "100% -=100%",duration: 3},"-=3");
tl.to("#test", {opacity:0})



/*const tl2 = gsap.timeline({
  scrollTrigger: {
    trigger: "#sectionMouv",
    start: "bottom 80",
    end: "1497",
    scrub: true,
    markers: false
  }
});

tl2.to( "#bg-img",{height:0,duration: 1});*/
const tl2 = gsap.timeline({
  scrollTrigger: {
    trigger: "#sectionImg",
    start: "0 80",
    end: "bottom",
    scrub: true,
    markers: false
   
  }
});

tl2.to( "#bg-img",{ height:"0",duration: 3});

/*const tl3 = gsap.timeline({
  scrollTrigger: {
    trigger: "#sectionPrestige",
    start: "-300 700",
    end: "-200 610",
    scrub: true,
    markers: true
   
  }
});

tl3.to("#prestige",{y:-700,duration:3})*/



    </script>
    <script src="./assets/js/script.js"></script>
    <script src="./assets/js/panier.js"></script>
</body>
</html>
